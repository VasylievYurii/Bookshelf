{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,GCEiB,AAAA,CAAA,EAAA,A,E,SAAA,WAAU,AAAV,IAEjB,MAAM,EAAO,CACX,eAAgB,SAAS,aAAA,CAAc,sBACvC,iBAAkB,SAAS,aAAA,CAAc,wBACzC,oBAAqB,SAAS,aAAA,CAAc,iBAC9C,EAGM,EAAoB,KAAK,KAAA,CAAM,aAAa,OAAA,CAD9B,mBACuD,EAAE,EAwD7E,AArDA,SAA4B,CAAe,EACpC,IAgDL,EAAK,cAAA,CAAe,SAAA,CAAY,GAChC,EAAK,mBAAA,CAAoB,KAAA,CAAM,UAAA,CAAa,UA/C1C,MAAM,6DAER,EAAK,cAAA,CAAe,SAAA,CAAY,AAGlC,SAA4B,CAAK,EAC7B,IAAM,EAAS,EACd,GAAA,CACC,CAAC,CAAA,IAAE,CAAG,CAAA,WAAE,CAAU,CAAA,MAAE,CAAK,CAAA,UAAE,CAAS,CAAA,YAAE,CAAW,CAAA,OAAE,CAAM,CAAA,UAAE,CAAS,CAAE,GAAK,CAAC;cACpE,EAAE,EAAI;sCACkB,EAAE,EAAW;kCACjB,EAAE,EAAM;oCACN,EAAE,EAAU;uCACT,EAAE,EAAY;kCACnB,EAAE,EAAO;;;2DAGgB,EAAE,EAAU,GAAA,CAAI;;;;;;;2DAOhB,EAAE,EAAU,GAAA,CAAI;;;;;;;uDAOpB,EAAE,EAAU,GAAA,CAAI;;;;;;;;iBAQtD,CAAC,EAEb,IAAA,CAAK,MACR,OAAO,CACT,EAzCqD,EACrD,EA+CmB","sources":["<anon>","src/js/shopping-list-render.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $d5eID = parcelRequire(\"d5eID\");\nconst $e57dfeebc20acf1f$var$booksApi = (0, $d5eID.useBooksApi)();\nconst $e57dfeebc20acf1f$var$refs = {\n    shoppingListEl: document.querySelector(\".sh-list-container\"),\n    shoppingListLink: document.querySelector(\".header-sh-list-link\"),\n    emptyShoppinglistEl: document.querySelector(\".empty-sh-list\")\n};\nconst $e57dfeebc20acf1f$var$STORAGE_KEY = \"shopping-list\";\nconst $e57dfeebc20acf1f$var$shoppingListArray = JSON.parse(localStorage.getItem($e57dfeebc20acf1f$var$STORAGE_KEY)) ?? [];\nfunction $e57dfeebc20acf1f$var$renderShoppingList(localbooksarray) {\n    if (!localbooksarray) {\n        $e57dfeebc20acf1f$var$clearShoppingList();\n        alert(\"This page is empty, add some books and proceed to order.\");\n    }\n    $e57dfeebc20acf1f$var$refs.shoppingListEl.innerHTML = $e57dfeebc20acf1f$var$markupShoppingList(localbooksarray);\n}\nfunction $e57dfeebc20acf1f$var$markupShoppingList(books) {\n    const markup = books.map(({ _id: _id, book_image: book_image, title: title, list_name: list_name, description: description, author: author, buy_links: buy_links })=>`<ul class=\"shopping-list\">\n      <li id=\"${_id}\" class=\"shopping-item\">\n        <img class=\"sh-book-img\" src=\"${book_image}\" alt=\"\" width=\"330\" height=\"485\"></img>\n        <h2 class=\"sh-book-title\">${title}</h2>\n        <p class=\"sh-book-category\">${list_name}</p>\n        <p class=\"sh-book-description\">${description}</p>\n        <p class=\"sh-book-author\">${author}</p>\n        <ul class=\"shopping-links\">\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                              </a>\n                            </li>\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                             </a>\n                            </li>\n                           <li class=\"sh-soc-item\">\n                          <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                            <svg class=\"sh-soc-icon\">\n                              <use href=\"\"></use>\n                         </svg>\n                         </a>\n                       </li>\n                      </ul>\n              </li>\n            </ul>`).join(\"\\n\");\n    return markup;\n}\nfunction $e57dfeebc20acf1f$var$clearShoppingList() {\n    $e57dfeebc20acf1f$var$refs.shoppingListEl.innerHTML = \"\";\n    $e57dfeebc20acf1f$var$refs.emptyShoppinglistEl.style.visibility = \"visible\";\n}\n$e57dfeebc20acf1f$var$renderShoppingList($e57dfeebc20acf1f$var$shoppingListArray);\n\n\n//# sourceMappingURL=shopping-list.9cbec861.js.map\n","import { useBooksApi } from '../services/booksApi';\n\nconst booksApi = useBooksApi();\n\nconst refs = {\n  shoppingListEl: document.querySelector('.sh-list-container'),\n  shoppingListLink: document.querySelector('.header-sh-list-link'),\n  emptyShoppinglistEl: document.querySelector('.empty-sh-list'),\n};\n\nconst STORAGE_KEY = 'shopping-list';\nconst shoppingListArray = JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? [];\n\n\nfunction renderShoppingList(localbooksarray) {\n  if (!localbooksarray) {\n    clearShoppingList();\n    alert('This page is empty, add some books and proceed to order.');\n  }\n  refs.shoppingListEl.innerHTML = markupShoppingList(localbooksarray);\n}\n\nfunction markupShoppingList(books) {\n    const markup = books\n    .map(\n      ({ _id, book_image, title, list_name, description, author, buy_links }) => `<ul class=\"shopping-list\">\n      <li id=\"${_id}\" class=\"shopping-item\">\n        <img class=\"sh-book-img\" src=\"${book_image}\" alt=\"\" width=\"330\" height=\"485\"></img>\n        <h2 class=\"sh-book-title\">${title}</h2>\n        <p class=\"sh-book-category\">${list_name}</p>\n        <p class=\"sh-book-description\">${description}</p>\n        <p class=\"sh-book-author\">${author}</p>\n        <ul class=\"shopping-links\">\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                              </a>\n                            </li>\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                             </a>\n                            </li>\n                           <li class=\"sh-soc-item\">\n                          <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                            <svg class=\"sh-soc-icon\">\n                              <use href=\"\"></use>\n                         </svg>\n                         </a>\n                       </li>\n                      </ul>\n              </li>\n            </ul>`\n    )\n    .join('\\n');\n  return markup;\n}\n\nfunction clearShoppingList() {\n  refs.shoppingListEl.innerHTML = '';\n  refs.emptyShoppinglistEl.style.visibility = 'visible';\n}\n\nrenderShoppingList(shoppingListArray);"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$d5eID","useBooksApi","$e57dfeebc20acf1f$var$refs","shoppingListEl","document","querySelector","shoppingListLink","emptyShoppinglistEl","$e57dfeebc20acf1f$var$shoppingListArray","JSON","parse","localStorage","getItem","$e57dfeebc20acf1f$var$renderShoppingList","localbooksarray","innerHTML","style","visibility","alert","$e57dfeebc20acf1f$var$markupShoppingList","books","markup","map","_id","book_image","title","list_name","description","author","buy_links","url","join"],"version":3,"file":"shopping-list.9cbec861.js.map"}