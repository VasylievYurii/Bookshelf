var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},l=e.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in o){var l=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,l.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=l),l("2wbaf"),l("4dIBK");var n=l("d5eID"),a=l("fMzCF");const i=(0,n.useBooksApi)(),c=document.querySelector(".section-categories"),s=document.querySelector(".section-books"),r=document.querySelector(".section-books-title"),d=document.querySelector(".section-books-list");function u(e,t){let o=t?"element-books-list-all":"element-books-list",l=e.map(({book_image:e,title:t,author:l,_id:n})=>`<li class="${o}">
    <a class='book-item' data-value="${n}">
      <div class='thumb'>
        <img src='${e}' alt='Book cover' loading="lazy"/>
        <div class='overlay'>
          <p class='overlay-text'>quick view </p>
        </div>
      </div>
      <h3 class='book-title'>${t}</h3>
      <p class='book-author'>${l}</p>
    </a>
  </li>`).join("\n");return l}async function y(e){try{let t=await i.getBooksByCategory(e);d.innerHTML=u(t,!0),r.innerHTML=function(e){let t=e.split(" ");if(t.length<2)return`${e}`;let o=t.pop();return`${t.join(" ")} <span class="accent">${o}</span>`}(e),function(e){e.classList.add("hidden")}(c),function(e){e.classList.remove("hidden")}(s),d.addEventListener("click",f)}catch(e){console.log(e)}}function f(e){let t=e.target.closest(".book-item");if(!t)return;let o=t.getAttribute("data-value");i.getBookById(o).then(a.insertModalBook).catch(e=>console.log(e)),(0,a.onModalOpen)()}var n=(l("d5eID"),l("d5eID"));const g=(0,n.useBooksApi)(),k=document.querySelector(".category-list"),m=e=>{let t=[...new Set(e.map(({list_name:e})=>e))].sort(),o=t.map(e=>{if(null!=e)return`
      <li class="category-item list">
      <a class="category-link link" href="#">${e}</a>
      </li>`}).join("");k.insertAdjacentHTML("beforeend",o),k.querySelector(".link-all").classList.add("active")};function p(){let e=document.querySelectorAll(".category-link");e.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")})}g.getCategoryList().then(e=>{m(e)}).catch(e=>{console.log(e)}).finally(()=>{}),k.addEventListener("click",function(e){e.preventDefault();let t=e.target.closest(".category-link");if(!t)return;let o=document.querySelector(".link-all"),l=t.textContent.trim();if(p(),"All categories"===l){let e=document.querySelector(".section-categories"),t=document.querySelector(".section-books");t.classList.add("hidden"),e.classList.remove("hidden"),o.classList.add("active")}else e.target.classList.add("active"),y(l)});const v=(0,n.useBooksApi)(),b=document.querySelector(".section-categories-list");function h(e){if(e.preventDefault(),"BUTTON"===e.target.nodeName){let t=e.target.closest(".category-block").getAttribute("data-category");y(t),p();let o=Array.from(document.querySelectorAll(".category-link.link")),l=o.find(e=>e.textContent===t);l.classList.add("active");return}}(async function(){try{let e=await v.getCategoryList(),t=[...new Set(e.map(({list_name:e})=>e))].sort();b.innerHTML=function(e){let t=e.map(e=>`<li class='category-block' data-category="${e}">
      <h3 class='category-block-title'>${e}</h3>
      <ul class='books-list' data-category="${e}"></ul>
      <button type='button' class='btn' >See more</button>
      </li>`).join("\n");return t}(t);let o=b.querySelectorAll(".books-list"),l=await v.getTopBooks();o.forEach(e=>{let t=e.dataset.category,o=l.find(e=>e.list_name===t).books;e.innerHTML=u(o)}),b.addEventListener("click",f),b.addEventListener("click",h)}catch(e){console.log(e)}})(),l("gBkxD"),l("dTazW"),l("4EhXu"),l("fMzCF"),l("74Aiq");const L=document.querySelector(".header-link-home");L.classList.add("current"),l("a4dqv"),l("806y2"),l("epHO8");
//# sourceMappingURL=index.ad4cdb48.js.map
