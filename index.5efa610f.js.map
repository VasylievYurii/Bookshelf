{"mappings":"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","sources":["<anon>","src/index.js","src/js/render-books-by-category.js","src/js/condition-for-categories-render.js","src/js/top-books.js","src/js/fetch-categories.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n// import switcher from './switcher';\nparcelRequire(\"2wbaf\");\nparcelRequire(\"4dIBK\");\n\nvar $d5eID = parcelRequire(\"d5eID\");\n\nvar $fMzCF = parcelRequire(\"fMzCF\");\nfunction $3af0a9fa5e15deee$export$c522a0db91e5ddc6(e) {\n    let oneBook = null;\n    if (!e) {\n        console.log(\"first document.querySelector(.category-block)\", document.querySelector(\".category-block\"));\n        oneBook = \"element-books-list\";\n        console.log(\"oneBook if:\", oneBook);\n    } else {\n        console.log(\"second document.querySelector(.category-block)\", document.querySelector(\".category-block\"));\n        oneBook = \"element-books-list-all\";\n        console.log(\"oneBook else:\", oneBook);\n    }\n    return oneBook;\n}\n\n\nconst $7a19ac8647e594da$var$booksApi = (0, $d5eID.useBooksApi)();\nconst $7a19ac8647e594da$var$sectionCategoriesEl = document.querySelector(\".section-categories\");\nconst $7a19ac8647e594da$var$sectionBooksEl = document.querySelector(\".section-books\");\nconst $7a19ac8647e594da$var$sectionBooksTitleEl = document.querySelector(\".section-books-title\");\nconst $7a19ac8647e594da$var$booksListEl = document.querySelector(\".section-books-list\");\n//---Раскоментить для ручного запуска функции\n// renderBooksByCategory('Paperback Nonfiction'); \nfunction $7a19ac8647e594da$export$c2ff2758ce23ccbb(books, e) {\n    let oneBook = (0, $3af0a9fa5e15deee$export$c522a0db91e5ddc6)(e);\n    const markup = books.map(({ book_image: book_image, title: title, author: author, _id: _id })=>`<li class=\"${oneBook}\">\n    <a class='book-item' data-value=\"${_id}\">\n      <div class='thumb'>\n        <img src='${book_image}' alt='Book cover' />\n        <div class='overlay'>\n          <p class='overlay-text'>quick view </p>\n        </div>\n      </div>\n      <h3 class='book-title'>${title}</h3>\n      <p class='book-author'>${author}</p>\n    </a>\n  </li>`).join(\"\\n\");\n    return markup;\n}\nfunction $7a19ac8647e594da$var$makeMarkupForTitle(title) {\n    const arrFromTitle = title.split(\" \");\n    if (arrFromTitle.length < 2) return `${title}`;\n    const lastWord = arrFromTitle.pop();\n    return `${arrFromTitle.join(\" \")} <span class=\"accent\">${lastWord}</span>`;\n}\nasync function $7a19ac8647e594da$export$e3a458789c8a5044(category) {\n    try {\n        const res = await $7a19ac8647e594da$var$booksApi.getBooksByCategory(category);\n        $7a19ac8647e594da$var$booksListEl.innerHTML = $7a19ac8647e594da$export$c2ff2758ce23ccbb(res, true);\n        $7a19ac8647e594da$var$sectionBooksTitleEl.innerHTML = $7a19ac8647e594da$var$makeMarkupForTitle(category);\n        $7a19ac8647e594da$var$hideElement($7a19ac8647e594da$var$sectionCategoriesEl);\n        $7a19ac8647e594da$var$showElement($7a19ac8647e594da$var$sectionBooksEl);\n        $7a19ac8647e594da$var$booksListEl.addEventListener(\"click\", $7a19ac8647e594da$export$2e63ecab0dc5da99);\n    } catch (err) {\n        console.log(err);\n    }\n}\nfunction $7a19ac8647e594da$export$2e63ecab0dc5da99(evt) {\n    const bookItem = evt.target.closest(\".book-item\");\n    if (!bookItem) return;\n    const bookId = bookItem.getAttribute(\"data-value\");\n    $7a19ac8647e594da$var$booksApi.getBookById(bookId).then((0, $fMzCF.insertModalBook)).catch((error)=>console.log(error));\n    (0, $fMzCF.onModalOpen)();\n}\nfunction $7a19ac8647e594da$var$hideElement(elem) {\n    console.log(\"elem add class:\", elem);\n    elem.classList.add(\"hidden\");\n}\nfunction $7a19ac8647e594da$var$showElement(elem) {\n    console.log(\"elem hide class:\", elem);\n    elem.classList.remove(\"hidden\");\n}\n\n\n\nvar $d5eID = parcelRequire(\"d5eID\");\n\nconst $874e917b2764b2ca$var$booksApi = (0, $d5eID.useBooksApi)();\nconst $874e917b2764b2ca$var$sectionCategoriesListEl = document.querySelector(\".section-categories-list\");\n// parceCategoriesBlocks();\nfunction $874e917b2764b2ca$var$makeMarkupForCategories(categories) {\n    const categoriesMarkup = categories.map((list_name)=>`<li class='category-block' data-category=\"${list_name}\">\n      <h3 class='category-block-title'>${list_name}</h3>\n      <ul class='books-list' data-category=\"${list_name}\"></ul>\n      <button type='button' class='btn' >See more</button>\n      </li>`).join(\"\\n\");\n    return categoriesMarkup;\n}\nasync function $874e917b2764b2ca$export$575704ffafa2b714() {\n    try {\n        const categories = await $874e917b2764b2ca$var$booksApi.getCategoryList();\n        const uniqueCategories = [\n            ...new Set(categories.map(({ list_name: list_name })=>list_name))\n        ].sort();\n        $874e917b2764b2ca$var$sectionCategoriesListEl.innerHTML = $874e917b2764b2ca$var$makeMarkupForCategories(uniqueCategories);\n        const blocksForRenderingBooks = $874e917b2764b2ca$var$sectionCategoriesListEl.querySelectorAll(\".books-list\");\n        const topBooks = await $874e917b2764b2ca$var$booksApi.getTopBooks();\n        blocksForRenderingBooks.forEach((block)=>{\n            const categoryName = block.dataset.category;\n            const topBooksOfCategory = topBooks.find((elem)=>elem.list_name === categoryName).books;\n            block.innerHTML = (0, $7a19ac8647e594da$export$c2ff2758ce23ccbb)(topBooksOfCategory);\n        });\n        $874e917b2764b2ca$var$sectionCategoriesListEl.addEventListener(\"click\", (0, $7a19ac8647e594da$export$2e63ecab0dc5da99));\n        $874e917b2764b2ca$var$sectionCategoriesListEl.addEventListener(\"click\", $874e917b2764b2ca$var$onButtonClick);\n    } catch (err) {\n        console.log(err);\n    }\n}\n// Функцию нужно доработать, почему-то не отрабатывает как надо. Пока не смог разобраться.\nfunction $874e917b2764b2ca$var$onButtonClick(evt) {\n    evt.preventDefault();\n    console.log(\"function onButtonClick:\", evt);\n    console.log(\"evt.target.nodeName\", evt.target.nodeName);\n    if (evt.target.nodeName === \"BUTTON\") {\n        console.log(\"evt.target\", evt.target);\n        // console.log('evt.currentTarget', evt.currentTarget)\n        const category = evt.target.closest(\".category-block\").getAttribute(\"data-category\");\n        console.log(\"category\", category);\n        (0, $7a19ac8647e594da$export$e3a458789c8a5044)(category);\n        return;\n    } else {\n        console.log(\"function onButtonClick return\");\n        return;\n    }\n}\n// Розкоментити для отримання всіх книг\n$874e917b2764b2ca$export$575704ffafa2b714();\n\n\n\n\nvar $d5eID = parcelRequire(\"d5eID\");\n\n// import { createCategoriesMarkup } from './top-books';\n// import { renderBooks } from './renderBooksByCategories';\n// import { getCategoryElements } from './categories';\nconst $613bb2bcc396c396$var$booksApi = (0, $d5eID.useBooksApi)();\nconst $613bb2bcc396c396$var$handleOnPress = (e)=>{\n    $613bb2bcc396c396$var$booksApi.getCategoryList().then((res)=>{\n        $613bb2bcc396c396$var$parseCategoryList(res);\n    }).catch((err)=>{\n        console.log(err);\n    }).finally(()=>{});\n};\nconst $613bb2bcc396c396$var$categoryListEl = document.querySelector(\".category-list\");\nconst $613bb2bcc396c396$var$categoryAll = document.querySelector(\".category-link\");\nconst $613bb2bcc396c396$var$categoryLinksElements = document.querySelectorAll(\".category-link\");\nconst $613bb2bcc396c396$var$parseCategoryList = (list)=>{\n    const uniqueCategories = [\n        ...new Set(list.map(({ list_name: list_name })=>list_name))\n    ].sort();\n    const categoryList = uniqueCategories.map((category)=>{\n        if (category !== null && category !== undefined) return `<li class=\"category-item list\"><a class=\"category-link link\" href=\"\">${category}</a></li>`;\n    }).join(\"\");\n    $613bb2bcc396c396$var$categoryListEl.insertAdjacentHTML(\"beforeend\", categoryList);\n    $613bb2bcc396c396$var$getCategoryElements();\n};\nfunction $613bb2bcc396c396$var$getCategoryElements() {\n    $613bb2bcc396c396$var$categoryLinksElements.forEach((link)=>{\n        link.addEventListener(\"click\", (evt)=>{\n            evt.preventDefault();\n            $613bb2bcc396c396$var$categoryLinksElements.forEach((el)=>el.classList.remove(\"active\"));\n            link.classList.add(\"active\");\n        });\n    });\n}\n$613bb2bcc396c396$var$categoryAll.addEventListener(\"click\", ()=>{\n    (0, $874e917b2764b2ca$export$575704ffafa2b714)();\n});\n$613bb2bcc396c396$var$handleOnPress();\n\n\nparcelRequire(\"ld1e2\");\nparcelRequire(\"dTazW\");\nparcelRequire(\"4EhXu\");\nparcelRequire(\"fMzCF\");\nparcelRequire(\"74Aiq\");\nparcelRequire(\"epHO8\");\n\n\n//# sourceMappingURL=index.5efa610f.js.map\n","// import switcher from './switcher';\nimport './js/themes';\nimport './js/menu';\nimport './js/render-books-by-category';\nimport './js/top-books';\nimport './js/condition-for-categories-render';\nimport './js/fetch-categories';\nimport './js/fireBaseFnunctions.js';\nimport './js/support';\nimport './js/auth/modal-auth/eventsProcessor';\nimport './js/pop-up-book';\nimport './js/scroll-up';\nimport './js/footer';","import { useBooksApi } from '../services/booksApi';\nimport { insertModalBook, onModalOpen } from './pop-up-book';\nimport {addClassForBookList} from './condition-for-categories-render';\n\nconst booksApi = useBooksApi();\n\nconst sectionCategoriesEl = document.querySelector('.section-categories');\nconst sectionBooksEl = document.querySelector('.section-books');\nconst sectionBooksTitleEl = document.querySelector('.section-books-title');\nconst booksListEl = document.querySelector('.section-books-list');\n\n//---Раскоментить для ручного запуска функции\n// renderBooksByCategory('Paperback Nonfiction'); \n\nfunction makeMarkupForBooks(books, e) {\n    let oneBook = addClassForBookList(e);\n  const markup = books\n    .map(\n      ({ book_image, title, author, _id }) => `<li class=\"${oneBook}\">\n    <a class='book-item' data-value=\"${_id}\">\n      <div class='thumb'>\n        <img src='${book_image}' alt='Book cover' />\n        <div class='overlay'>\n          <p class='overlay-text'>quick view </p>\n        </div>\n      </div>\n      <h3 class='book-title'>${title}</h3>\n      <p class='book-author'>${author}</p>\n    </a>\n  </li>`\n    )\n    .join('\\n');\n  return markup;\n}\n\nfunction makeMarkupForTitle(title) {\n  const arrFromTitle = title.split(' ');\n  if (arrFromTitle.length < 2) {\n    return `${title}`;\n  }\n  const lastWord = arrFromTitle.pop();\n  return `${arrFromTitle.join(' ')} <span class=\"accent\">${lastWord}</span>`;\n}\n\nasync function renderBooksByCategory(category) {\n  try {\n    const res = await booksApi.getBooksByCategory(category);\n    booksListEl.innerHTML = makeMarkupForBooks(res, true);\n    sectionBooksTitleEl.innerHTML = makeMarkupForTitle(category);\n    hideElement(sectionCategoriesEl);\n    showElement(sectionBooksEl);\n    booksListEl.addEventListener('click', onBookSelect);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction onBookSelect(evt) {\n  const bookItem = evt.target.closest('.book-item');\n  if (!bookItem) {\n    return;\n  }\n  const bookId = bookItem.getAttribute('data-value');\n  booksApi\n    .getBookById(bookId)\n    .then(insertModalBook)\n    .catch(error => console.log(error));\n  onModalOpen();\n}\n\nfunction hideElement(elem) {\n  console.log(\"elem add class:\", elem)\n  \n  elem.classList.add('hidden');\n}\n\nfunction showElement(elem) {\n  console.log(\"elem hide class:\", elem)\n  elem.classList.remove('hidden');\n}\n\nexport { makeMarkupForBooks, renderBooksByCategory, onBookSelect };\n","function addClassForBookList (e){\n    let oneBook = null;\n\n    if(!e){\n        console.log('first document.querySelector(.category-block)', document.querySelector('.category-block'));\n        oneBook = \"element-books-list\"\n            console.log(\"oneBook if:\", oneBook)\n            } else {\n                console.log('second document.querySelector(.category-block)', document.querySelector('.category-block'));\n        oneBook = \"element-books-list-all\"\n        console.log(\"oneBook else:\", oneBook)\n\n\n\n    \n        \n    }\n    return oneBook;\n}\n\nexport {addClassForBookList};","import { useBooksApi } from '../services/booksApi';\nimport {\n  makeMarkupForBooks,\n  renderBooksByCategory,\n  onBookSelect,\n} from './render-books-by-category';\n\nconst booksApi = useBooksApi();\n\nconst sectionCategoriesListEl = document.querySelector(\n  '.section-categories-list'\n);\n\n// parceCategoriesBlocks();\n\nfunction makeMarkupForCategories(categories) {\n  const categoriesMarkup = categories\n    .map(\n      list_name => `<li class='category-block' data-category=\"${list_name}\">\n      <h3 class='category-block-title'>${list_name}</h3>\n      <ul class='books-list' data-category=\"${list_name}\"></ul>\n      <button type='button' class='btn' >See more</button>\n      </li>`\n    )\n    .join('\\n');\n  return categoriesMarkup;\n}\n\nasync function parceCategoriesBlocks() {\n  try {\n    const categories = await booksApi.getCategoryList();\n    const uniqueCategories = [\n      ...new Set(categories.map(({ list_name }) => list_name)),\n    ].sort();\n    sectionCategoriesListEl.innerHTML =\n      makeMarkupForCategories(uniqueCategories);\n    const blocksForRenderingBooks =\n      sectionCategoriesListEl.querySelectorAll('.books-list');\n    const topBooks = await booksApi.getTopBooks();\n    blocksForRenderingBooks.forEach(block => {\n      const categoryName = block.dataset.category;\n      const topBooksOfCategory = topBooks.find(\n        elem => elem.list_name === categoryName\n      ).books;\n      block.innerHTML = makeMarkupForBooks(topBooksOfCategory);\n    });\n    sectionCategoriesListEl.addEventListener('click', onBookSelect);\n    sectionCategoriesListEl.addEventListener('click', onButtonClick);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// Функцию нужно доработать, почему-то не отрабатывает как надо. Пока не смог разобраться.\n\nfunction onButtonClick(evt) {\n  evt.preventDefault();\n  console.log(\"function onButtonClick:\", evt)\n  console.log('evt.target.nodeName', evt.target.nodeName)\n  \n  if (evt.target.nodeName === 'BUTTON') {\n\nconsole.log('evt.target', evt.target)\n// console.log('evt.currentTarget', evt.currentTarget)\n    const category = evt.target.closest('.category-block').getAttribute('data-category');\n\n  console.log('category', category);\n\n  renderBooksByCategory(category);\n\n    return;\n\n  } else {\nconsole.log('function onButtonClick return')\n    return\n\n  }\n\n \n}\n// Розкоментити для отримання всіх книг\nparceCategoriesBlocks();\n\nexport { parceCategoriesBlocks };\n","import { useBooksApi } from '../services/booksApi';\nimport { parceCategoriesBlocks } from './top-books';\n// import { createCategoriesMarkup } from './top-books';\n// import { renderBooks } from './renderBooksByCategories';\n// import { getCategoryElements } from './categories';\nconst booksApi = useBooksApi();\n\nconst handleOnPress = (e) => {\n\n  booksApi\n    .getCategoryList()\n    .then((res) => {\n      parseCategoryList(res);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n    });\n};\nconst categoryListEl = document.querySelector('.category-list');\nconst categoryAll = document.querySelector('.category-link');\nconst categoryLinksElements = document.querySelectorAll('.category-link');\n\nconst parseCategoryList = (list) => {\n  const uniqueCategories = [...new Set(list.map(({ list_name }) => list_name))].sort();\n  const categoryList = uniqueCategories.map((category) => {\n    if (category !== null && category !== undefined) {\n      return `<li class=\"category-item list\"><a class=\"category-link link\" href=\"\">${category}</a></li>`\n    }\n  }).join('');\n  categoryListEl.insertAdjacentHTML('beforeend', categoryList);\n  getCategoryElements()\n};\nfunction getCategoryElements() {\n\n  categoryLinksElements.forEach((link) => {\n    link.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      categoryLinksElements.forEach((el) => el.classList.remove('active'));\n      link.classList.add('active');\n    })\n  });\n}\n\ncategoryAll.addEventListener('click', () => {\n  parceCategoriesBlocks();\n\n})\nhandleOnPress();\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$d5eID","$fMzCF","$7a19ac8647e594da$var$booksApi","useBooksApi","$7a19ac8647e594da$var$sectionCategoriesEl","document","querySelector","$7a19ac8647e594da$var$sectionBooksEl","$7a19ac8647e594da$var$sectionBooksTitleEl","$7a19ac8647e594da$var$booksListEl","$7a19ac8647e594da$export$c2ff2758ce23ccbb","books","e","oneBook","console","log","markup","map","book_image","title","author","_id","join","$7a19ac8647e594da$export$e3a458789c8a5044","category","res","getBooksByCategory","innerHTML","$7a19ac8647e594da$var$makeMarkupForTitle","arrFromTitle","split","length","lastWord","pop","elem","classList","add","remove","addEventListener","$7a19ac8647e594da$export$2e63ecab0dc5da99","evt","bookItem","target","closest","bookId","getAttribute","getBookById","then","insertModalBook","catch","error","onModalOpen","$874e917b2764b2ca$var$booksApi","$874e917b2764b2ca$var$sectionCategoriesListEl","$874e917b2764b2ca$export$575704ffafa2b714","categories","getCategoryList","uniqueCategories","Set","list_name","sort","$874e917b2764b2ca$var$makeMarkupForCategories","categoriesMarkup","blocksForRenderingBooks","querySelectorAll","topBooks","getTopBooks","forEach","block","categoryName","dataset","topBooksOfCategory","find","$874e917b2764b2ca$var$onButtonClick","preventDefault","nodeName","$613bb2bcc396c396$var$booksApi","$613bb2bcc396c396$var$categoryListEl","$613bb2bcc396c396$var$categoryAll","$613bb2bcc396c396$var$categoryLinksElements","$613bb2bcc396c396$var$parseCategoryList","list","categoryList","insertAdjacentHTML","link","el","finally"],"version":3,"file":"index.5efa610f.js.map"}