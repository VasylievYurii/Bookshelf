{"mappings":"C,A,W,ICW0B,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,GATT,AAAA,CAAA,EAAA,A,E,SAAA,WAAU,AAAV,IAEjB,IAAM,EAAO,CACX,eAAgB,SAAS,aAAA,CAAc,sBACvC,iBAAkB,SAAS,aAAA,CAAc,wBACzC,oBAAqB,SAAS,aAAA,CAAc,iBAC9C,EAGM,EAAoB,AAAgC,OAAhC,CAAA,EAAA,KAAK,KAAA,CAAM,aAAa,OAAA,CAD9B,iBACsC,GAAhC,AAAA,KAAA,IAAA,EAAA,EAAiD,EAAE,CAwD1D,IAJjB,EAAK,cAAA,CAAe,SAAA,CAAY,GAChC,EAAK,mBAAA,CAAoB,KAAA,CAAM,UAAA,CAAa,UA/C1C,MAAM,6DAER,EAAK,cAAA,CAAe,SAAA,CAIH,AA4CA,EA3Cd,GAAA,CACC,SAFF,CAAA,EAEK,IAAA,EAAA,EAAA,GAAA,CAAK,EAAA,EAAA,UAAA,CAAY,EAAA,EAAA,KAAA,CAAO,EAAA,EAAA,SAAA,CAAW,EAAA,EAAA,WAAA,CAAa,EAAA,EAAA,MAAA,CAAQ,EAAA,EAAA,SAAxD,CAAwE,MAAC,6CAE1C,MAAA,CADxB,EAAI,oEAEgB,MAAA,CADI,EAAW,gFAEb,MAAA,CADF,EAAM,+CAED,MAAA,CADH,EAAU,iDAEZ,MAAA,CADK,EAAY,4CAIQ,MAAA,CAHzB,EAAO,gKAUkB,MAAA,CAPA,EAAU,GAAA,CAAI,0VAclB,MAAA,CAPI,EAAU,GAAA,CAAI,oVAOJ,MAAA,CAAd,EAAU,GAAA,CAAI,kRAUlE,GAAA,IAAA,CAAK,K","sources":["<anon>","src/js/shopping-list-render.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $eJu0s = parcelRequire(\"eJu0s\");\nvar $3e4c941171dcc138$var$booksApi = (0, $eJu0s.useBooksApi)();\nvar $3e4c941171dcc138$var$refs = {\n    shoppingListEl: document.querySelector(\".sh-list-container\"),\n    shoppingListLink: document.querySelector(\".header-sh-list-link\"),\n    emptyShoppinglistEl: document.querySelector(\".empty-sh-list\")\n};\nvar $3e4c941171dcc138$var$STORAGE_KEY = \"shopping-list\";\nvar $3e4c941171dcc138$var$_JSON_parse;\nvar $3e4c941171dcc138$var$shoppingListArray = ($3e4c941171dcc138$var$_JSON_parse = JSON.parse(localStorage.getItem($3e4c941171dcc138$var$STORAGE_KEY))) !== null && $3e4c941171dcc138$var$_JSON_parse !== void 0 ? $3e4c941171dcc138$var$_JSON_parse : [];\nfunction $3e4c941171dcc138$var$renderShoppingList(localbooksarray) {\n    if (!localbooksarray) {\n        $3e4c941171dcc138$var$clearShoppingList();\n        alert(\"This page is empty, add some books and proceed to order.\");\n    }\n    $3e4c941171dcc138$var$refs.shoppingListEl.innerHTML = $3e4c941171dcc138$var$markupShoppingList(localbooksarray);\n}\nfunction $3e4c941171dcc138$var$markupShoppingList(books) {\n    var markup = books.map(function(param) {\n        var _id = param._id, book_image = param.book_image, title = param.title, list_name = param.list_name, description = param.description, author = param.author, buy_links = param.buy_links;\n        return '<ul class=\"shopping-list\">\\n      <li id=\"'.concat(_id, '\" class=\"shopping-item\">\\n        <img class=\"sh-book-img\" src=\"').concat(book_image, '\" alt=\"\" width=\"330\" height=\"485\"></img>\\n        <h2 class=\"sh-book-title\">').concat(title, '</h2>\\n        <p class=\"sh-book-category\">').concat(list_name, '</p>\\n        <p class=\"sh-book-description\">').concat(description, '</p>\\n        <p class=\"sh-book-author\">').concat(author, '</p>\\n        <ul class=\"shopping-links\">\\n                            <li class=\"sh-soc-item\">\\n                              <a class=\"sh-soc-link\" href=\"').concat(buy_links.url, '\">\\n                                <svg class=\"sh-soc-icon\">\\n                                  <use href=\"\"></use>\\n                                </svg>\\n                              </a>\\n                            </li>\\n                            <li class=\"sh-soc-item\">\\n                              <a class=\"sh-soc-link\" href=\"').concat(buy_links.url, '\">\\n                                <svg class=\"sh-soc-icon\">\\n                                  <use href=\"\"></use>\\n                                </svg>\\n                             </a>\\n                            </li>\\n                           <li class=\"sh-soc-item\">\\n                          <a class=\"sh-soc-link\" href=\"').concat(buy_links.url, '\">\\n                            <svg class=\"sh-soc-icon\">\\n                              <use href=\"\"></use>\\n                         </svg>\\n                         </a>\\n                       </li>\\n                      </ul>\\n              </li>\\n            </ul>');\n    }).join(\"\\n\");\n    return markup;\n}\nfunction $3e4c941171dcc138$var$clearShoppingList() {\n    $3e4c941171dcc138$var$refs.shoppingListEl.innerHTML = \"\";\n    $3e4c941171dcc138$var$refs.emptyShoppinglistEl.style.visibility = \"visible\";\n}\n$3e4c941171dcc138$var$renderShoppingList($3e4c941171dcc138$var$shoppingListArray);\n\n})();\n//# sourceMappingURL=shopping-list.3045466e.js.map\n","import { useBooksApi } from '../services/booksApi';\n\nconst booksApi = useBooksApi();\n\nconst refs = {\n  shoppingListEl: document.querySelector('.sh-list-container'),\n  shoppingListLink: document.querySelector('.header-sh-list-link'),\n  emptyShoppinglistEl: document.querySelector('.empty-sh-list'),\n};\n\nconst STORAGE_KEY = 'shopping-list';\nconst shoppingListArray = JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? [];\n\n\nfunction renderShoppingList(localbooksarray) {\n  if (!localbooksarray) {\n    clearShoppingList();\n    alert('This page is empty, add some books and proceed to order.');\n  }\n  refs.shoppingListEl.innerHTML = markupShoppingList(localbooksarray);\n}\n\nfunction markupShoppingList(books) {\n    const markup = books\n    .map(\n      ({ _id, book_image, title, list_name, description, author, buy_links }) => `<ul class=\"shopping-list\">\n      <li id=\"${_id}\" class=\"shopping-item\">\n        <img class=\"sh-book-img\" src=\"${book_image}\" alt=\"\" width=\"330\" height=\"485\"></img>\n        <h2 class=\"sh-book-title\">${title}</h2>\n        <p class=\"sh-book-category\">${list_name}</p>\n        <p class=\"sh-book-description\">${description}</p>\n        <p class=\"sh-book-author\">${author}</p>\n        <ul class=\"shopping-links\">\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                              </a>\n                            </li>\n                            <li class=\"sh-soc-item\">\n                              <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                                <svg class=\"sh-soc-icon\">\n                                  <use href=\"\"></use>\n                                </svg>\n                             </a>\n                            </li>\n                           <li class=\"sh-soc-item\">\n                          <a class=\"sh-soc-link\" href=\"${buy_links.url}\">\n                            <svg class=\"sh-soc-icon\">\n                              <use href=\"\"></use>\n                         </svg>\n                         </a>\n                       </li>\n                      </ul>\n              </li>\n            </ul>`\n    )\n    .join('\\n');\n  return markup;\n}\n\nfunction clearShoppingList() {\n  refs.shoppingListEl.innerHTML = '';\n  refs.emptyShoppinglistEl.style.visibility = 'visible';\n}\n\nrenderShoppingList(shoppingListArray);"],"names":["$3e4c941171dcc138$var$_JSON_parse","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$eJu0s","useBooksApi","$3e4c941171dcc138$var$refs","shoppingListEl","document","querySelector","shoppingListLink","emptyShoppinglistEl","$3e4c941171dcc138$var$shoppingListArray","JSON","parse","localStorage","getItem","innerHTML","style","visibility","alert","books","map","param","_id","book_image","title","list_name","description","author","buy_links","concat","url","join"],"version":3,"file":"shopping-list.3045466e.js.map"}